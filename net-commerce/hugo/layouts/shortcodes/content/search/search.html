<net-domain-search>

  <div class="grid px2l pb3">

    <div class="flex flex-row-reverse" >
      <div id="product-builder-widget-wrap" class="pl1l flex flex-col pt3" >
        <div class="stick">
          {{ partial "product-builder-widget" (dict "bigbuttext" "Continue"  "bigbuticon" "net-chevron-right" "bigbutlink" "/configure" "smallbuticon" "net-cart-solid" "radius"  "br8tl br8tr " "Site" .Site) }}
        </div>

      </div>

      <div class="w-75 pr1l" kb-cloak>

        <div class="my2 pt2 text-center"  kb-if="results.metrics | not">

          <img src="/images/loading-animation.gif" alt="Netistrar loading animation">

        </div>


        <div kb-if="results.metrics" >

          <div class="pt150 pb1 px1 px0l" kb-if="results.metrics">
            <span class="semi uppercase">Search results<span kb-if="results.metrics.featuredMin">: </span></span>
            <div kb-if="results.metrics.featuredMin" class="label label-gn lh1">Top names</div>
            <span kb-if="results.metrics.featuredMin"><b> available</b> from Â£{results.metrics.featuredMin}</span>
          </div>


            <div kb-if="results.directResult">

                <div kb-if="'HINTED_AVAILABLE,AVAILABLE' | split | contains results.directResult.availability">
                    <div kb-if="results.directResult.pricingType | notequals 'PREMIUM'">
                        {{partial "product-search-available" (dict "itemSelector" "results.directResult" "featured" "true") }}
                    </div>
                    <div kb-if="results.directResult.pricingType | equals 'PREMIUM'">
                        {{partial  "product-search-premium" (dict "itemSelector" "results.directResult" "featured" "true") }}
                    </div>
                </div>
                <div kb-if="'HINTED_UNAVAILABLE,UNAVAILABLE' | split | contains results.directResult.availability">
                    {{partial "product-search-not-available" (dict "itemSelector" "results.directResult" "featured" "true") }}

                    <div v-for="suggestion in results.directResult.suggestions">
                        <div kb-if="visibleSuggestions | keys | contains suggestion.domainName">
                            {{partial "product-search-available" (dict "itemSelector" "suggestion" "featured" "true" "suggestion" "true") }}
                        </div>
                    </div>

                </div>

                <div kb-if="results.directResult.availability | equals 'MY_DOMAIN'">
                    {{partial "product-search-my-domain" (dict "itemSelector" "results.directResult" "featured" "true")  }}

                    <div kb-each-suggestion="results.directResult.suggestions">
                        <div kb-if="visibleSuggestions | member suggestion.domainName" >
                            {{partial "product-search-available" (dict "itemSelector" "suggestion" "featured" "true" "suggestion" "true") }}
                        </div>
                    </div>

                </div>


            </div>



            <div kb-each-featured="results.featuredResults">
                <div kb-if="'HINTED_AVAILABLE,AVAILABLE' | split | contains featured.availability">
                    <div kb-if="featured.pricingType | notequals 'PREMIUM'">
                        {{partial "product-search-available" (dict "itemSelector" "featured" "featured" "true") }}
                    </div>
                    <div kb-if="featured.pricingType | equals 'PREMIUM'">
                        {{partial "product-search-premium" (dict "itemSelector" "featured" "featured" "true") }}
                    </div>
                </div>
                <div kb-if="'HINTED_UNAVAILABLE,UNAVAILABLE' | split | contains featured.availability">
                    {{partial "product-search-not-available" (dict "itemSelector" "featured" "featured" "true") }}

                    <div kb-each-suggestion="featured.suggestions">
                        <div kb-if="visibleSuggestions | member suggestion.domainName">
                            {{partial "product-search-available" (dict "itemSelector" "suggestion" "featured" "true" "suggestion" "true") }}
                        </div>
                    </div>

                </div>


                <div kb-if="featured.availability | equals 'MY_DOMAIN'">
                    {{partial "product-search-my-domain" (dict "itemSelector" "featured" "featured" "true") }}

                    <div kb-each-suggestion="featured.suggestions">
                        <div kb-if="visibleSuggestions | member suggestion.domainName">
                            {{partial "product-search-available" (dict "itemSelector" "suggestion" "featured" "true" "suggestion" "true") }}
                        </div>
                    </div>

                </div>

            </div>



            <div class="pt125 pb1 borb2 borbrand px1 px0l">
                <span class="semi uppercase">Category:</span>  {filterValues.categories} -
                <button class="butlk btn-filters-domain-search semi" data-target="show">filter</button>
                these results</span>
            </div>

            <div class="prod-parent" kb-each-categoried="results.categoryResults"
                 kb-class-child-selected="selectedItems | keys | contains categoried.domainName}">
                <div kb-if="'HINTED_AVAILABLE,AVAILABLE' | split | contains categoried.availability">
                    <div kb-if="categoried.pricingType | notequals 'PREMIUM'">
                        {{partial "product-search-available" (dict "itemSelector" "categoried" "featured" "false") }}
                    </div>
                    <div kb-if="categoried.pricingType | equals 'PREMIUM'">
                        {{partial "product-search-premium" (dict "itemSelector" "categoried" "featured" "false") }}
                    </div>
                </div>
                <div kb-if="'HINTED_UNAVAILABLE,UNAVAILABLE' | split | contains categoried.availability">
                    {{partial "product-search-not-available" (dict "itemSelector" "categoried" "featured" "false") }}
                    <div kb-each-suggestion="categoried.suggestions">
                        <div kb-if="visibleSuggestions | member suggestion.domainName">
                            {{partial "product-search-available" (dict "itemSelector" "suggestion" "featured" "false" "suggestion" "true") }}
                        </div>
                    </div>
                </div>
                <div kb-if="categoried.availability | equals 'MY_DOMAIN'">
                    {{partial "product-search-my-domain" (dict "itemSelector" "categoried" "featured" "false") }}

                    <div kb-each-suggestion="categoried.suggestions">
                        <div kb-if="visibleSuggestions | member suggestion.domainName" >
                            {{partial "product-search-available" (dict "itemSelector" "suggestion" "featured" "false" "suggestion" "true") }}
                        </div>
                    </div>

                </div>

            </div>

        </div>



      </div>

      <!--    main cell-->
    </div>
    <!--  row-->

  </div>
  <!--grid-->



</net-domain-search>
